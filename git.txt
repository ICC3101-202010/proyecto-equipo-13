private void btnSave_Click(object sender, EventArgs e)
{
  var file = GetFile();
  var lst = new string[] { ".mp3", ".avi", ".mp4", ".wmv" };
  if (!lst.Contains(Path.GetExtension(file)))
  {
       MessageBox.Show("Please select proper file.");
  }
  else
    {
          var result = SaveToDataBase(Path.GetFileName(file),      GetCompressedData(file,     ConvertFileToByteData(file)));
         if (result)
         {
             cmbPlayList.Items.Add(Path.GetFileName(file));
             MessageBox.Show("!! File Saved Successfully !!");
         }
     }
}
private bool SaveToDataBase(string fileName, byte[] data)
{
    try
   {
        var ds = new DataSet();
        SqlCommand cmd = new SqlCommand("insert into MyPlay values('" + Guid.NewGuid() + "','" + fileName + "',@content)");
        SqlParameter param = cmd.Parameters.Add("@content", SqlDbType.VarBinary);
        param.Value = data;
        cmd.Connection = new SqlConnection(ConnectionString);
        cmd.CommandTimeout = 0;
        cmd.Connection.Open();
        cmd.ExecuteNonQuery();
        return true;
    }
    catch (Exception)
    {
         throw;
    }
    return false;
}
private void btnPlay_Click(object sender, EventArgs e)
{
     if (cmbPlayList.SelectedItem == null)
     {
          MessageBox.Show("Please select file to play."); return;
    }
    axWindowsMediaPlayer1.URL = GetFromDataBase(cmbPlayList.SelectedItem.ToString());
    axWindowsMediaPlayer1.settings.autoStart = true;
}
 
private string GetFromDataBase(string fileName)
{
    try
    {
        SqlConnection myConnection = new SqlConnection(ConnectionString);
        String Query1 = "SELECT FileData FROM [Test].[dbo].[MyPlay] where FileName = '" + fileName + "'";
        SqlDataAdapter adapter = new SqlDataAdapter(Query1, ConnectionString);
        DataSet Ds = new DataSet();
        adapter.Fill(Ds, "MyPlay");
        if (Ds.Tables[0].Rows.Count == 0)
        {
            MessageBox.Show("No data Found");
            return string.Empty;
        }
        return ConvertByteDataToFile(fileName, GetUnCompressedData((byte[])Ds.Tables[0].Rows[0]["FileData"]));
    }
    catch (Exception)
    {
        throw;
    }
    return string.Empty;
}